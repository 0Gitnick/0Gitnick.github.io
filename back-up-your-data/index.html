<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=HandheldFriendly content="True"><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><link rel="shortcut icon" href=../favicon.ico><title>Back Up Your Data - Nicholas Johnson</title><meta name=author content="Nicholas Johnson"><meta name=keywords content="computing,free software,society"><link rel=stylesheet href=../assets/css/fuji.min.css></head><body data-theme=dark><header><div class="container-lg clearfix"><div class="col-12 header"><a class=title-main href=../>Nicholas Johnson</a>
<span class=title-sub>Greetings netizen! Enjoy your stay.</span></div></div></header><main><div class="container-lg clearfix"><div class="col-12 col-md-9 float-left content"><article><h2 class="post-item post-title"><a href=../back-up-your-data/>Back Up Your Data</a></h2><div class="post-item post-meta"><span><i class="iconfont icon-today-sharp"></i>&nbsp;2020-07-26</span><span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;2177 words</span><span><i class="iconfont icon-time-sharp"></i>&nbsp;11 minutes</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href=../tags/computing>computing</a>&nbsp;<a href=../tags/free-software>free software</a>&nbsp;<a href=../tags/society>society</a>&nbsp;</span></div><div class="post-content markdown-body"><h2 id=losing-my-data>Losing My Data</h2><p>My motivation for writing this post is I accidentally deleted another unpublished post I put a lot of effort into. It probably had 6+ hours of work invested in it at least. And now, it&rsquo;s gone forever. Perhaps it&rsquo;s best put into the 5 stages of grief. At first, I denied it. I was sure I had it copied to my clipboard, saved in my text editor cache or history, but it wasn&rsquo;t. After that, I got angry that I could have accidentally deleted something I put so much work into. How could I make such a dumb mistake? I skipped bargaining. I was sad about it for a while. Then I reached acceptance, and decided to write this post instead.</p><p>This post is a public service announcement about backups inspired by the one that got lost. I&rsquo;ve had my own backups for over 5 years, and never have I lost any data from those backups. So I have a little bit of experience making backups. The following advice is meant for individuals, not a corporate or business setting.</p><h2 id=why-to-backup>Why to Backup?</h2><p>Backups are important because hard drives fail and get corrupted, phones break and get lost, and physical media degrade. Backups can help protect your important data.</p><h2 id=what-to-backup>What to Backup?</h2><p>How do you know which data should go into your backups? Here are two quick rules of thumb:</p><ol><li>You would want the data back if you lost it or it corrupted (<em>it&rsquo;s worth something to you</em>)</li><li>Using a backup would take less time than recreating the data yourself (<em>it&rsquo;s worth the trouble to back up</em>)</li></ol><p>I&rsquo;ll use this blog as an example. It uses the Hugo software to generate the site pages. I can <a href=https://gohugo.io/getting-started/installing/>install Hugo</a> on any platform with a few simple commands. The cost of retrieving Hugo is <em>very</em> low. If I lost it, I could recreate it by just reinstalling. I would get the latest version and it would work on whatever platform I happen to be using. If I made a standard backup, I would be stuck with the same version and the way it is packaged may not work across platforms. So, making a backup of Hugo would break rule #2 because it would take <em>more time</em> to recover it from a backup than just reinstalling it.</p><p>I could almost say the same about the template I&rsquo;m using. Except I&rsquo;ve made modifications to it to not include Goo-lag analytics and other things. I have it backed up because <strong>#1</strong> I would need it back if I lost it and <strong>#2</strong> making those modifications again would take longer than just restoring the template from a backup. The same goes for my site content. Rewriting it all would be a huge effort. As I write more posts, the effort only increases. So, obviously, I back up my site content because it satisfies rules #1 and #2.</p><p>For most people, data that satisfies both of these rules are going to be old home videos, vacation pictures, resum√©s, portfolios, financial records, contact lists and password manager files. Those are generally data that are valuable and either can&rsquo;t be recreated or would be cumbersome to recreate.</p><h2 id=when-to-backup>When to Backup?</h2><p>If you don&rsquo;t already have a backup, create one right now. Don&rsquo;t wait. Your data could become corrupted at any time. If you don&rsquo;t have copies of it elsewhere, then you&rsquo;re just waiting for the inevitable to happen. Your digital media (hard drive, flash drive, SD card, CD/DVD) will eventually fail and you will lose your important data.</p><p>Once you have your data backed up for the first time, you will need to create a backup schedule. A backup schedule is how often you want to back up your data. It can be weekly, monthly, yearly, etc. It doesn&rsquo;t have to be at regular intervals, but that&rsquo;s good practice. This decision should be based on how frequently you acquire important data and how important the new data is. If you record your daughter or son&rsquo;s first steps on video, you will want to back that up the same day or week probably. If you don&rsquo;t acquire important data often, you may want a yearly backup schedule.</p><p>In my case, I have a blog. So far, I have averaged 2-3 posts per month. I put a lot of thought into my posts. Since losing just 1 post motivated me to write all of this, I don&rsquo;t want to even think about losing 2-3 posts at once. Therefore I should, at minimum, perform monthly backups so that I never lose more than 2-3 posts. Redundant copies of my posts are stored on web servers and Zeronet, but those are only posts that I have deemed worthy to publish. The ones I haven&rsquo;t published don&rsquo;t have redundant copies, so I should still perform monthly backups. That&rsquo;s an example of how to think about a backup schedule. It will be different for everyone since everyone has different backup needs.</p><h2 id=where-to-backup>Where to Backup?</h2><p>Where you back up your data is crucial. This gets into what is widely known as the 3-2-1 rule of data backups. You need 3 copies of your data, 2 types of storage media, and 1 offsite copy. You <strong>must</strong> have an offsite copy in case of a disaster. If a fire breaks out in your home and you&rsquo;re gone, it will destroy your computer <em>and</em> your external drive. So it&rsquo;s no good to only have data stored locally. Yes, you need local copies, but you must have a remote copy as well.</p><p>Also, having 2 copies of your data on the same media does not count as 2 copies. It counts as 1 copy. One computer science student I talked to in the past did not understand that <strong><a href=https://en.wikipedia.org/wiki/RAID>RAID</a> is not a backup</strong>. One power spike and all your drives in your RAID system can fail simultaneously. It could get stolen. Do you trust yourself to never delete anything important by accident? You need <em>physically</em> separate media for backups, not just <em>logically</em> separate. This reduces the chance you will delete important data without catching the error first. Physically separate drives don&rsquo;t count if they are connected to the same system. For example, it doesn&rsquo;t matter if you have copies of your data on multiple cloud instances if those instances are through the same cloud provider. What if that cloud provider gets compromised and you lose both backups? So, use separate systems as well as separate drives.</p><p>And finally, you need at least one air-gapped backup. If all your accounts and machines get compromised, you need a way to recover your data. Without that, your data could be stolen and held for ransom. To avoid this scenario, set up an offline backup in a different city, state, or country. The farther, the better. Your offline backup will probably be local since you can&rsquo;t access it remotely. Having a remote offline backup is inconvenient because it will be hard to maintain a frequent backup schedule. You could keep your offline backup as a micro SD card stashed between your phone and its case, or in your purse so it&rsquo;s always with you. This way, your offline backup, local backup, and remote backup are in 3 physically separate locations.</p><h2 id=who-to-backup>Who to Backup?</h2><p>It&rsquo;s important to know who is in control of the computer your backup is sitting on. If you use a cloud service provider to back up your data remotely, there are significant caveats. The caveats apply any time you are using hardware that is not under your control.</p><p>For one, you have to trust the cloud service&rsquo;s security practices. If they get compromised, your data will be at risk. Are you willing to accept that risk? What if their database gets compromised? To eliminate this risk, you should <strong>always</strong> encrypt your data before uploading it. I&rsquo;ll get to this topic in the next section.</p><p>Another risk is that the data is modified either intentionally or by error. Encrypting the data will not prevent it from being modified maliciously. For that, you need authenticated encryption. Also, you may be limited on monthly bandwidth or file storage capacity. If you store a lot of data, that could quickly become expensive.</p><p>Using a cloud service provider, you can only access your data at their leasure. Hopefully their system has good uptime. This usually isn&rsquo;t a big problem. But they will also have full control over how you access your data. They might only allow you to access it over a web portal. You&rsquo;ll want to make sure they run a service you can access using only free software such as <a href=https://nextcloud.com/>Nextcloud</a> or <a href=https://www.etesync.com/>Etesync</a>. Preferably, they give you many ways to access it so you aren&rsquo;t locked in to a particular client program.</p><h2 id=how-to-backup>How to Backup?</h2><p>Now that I&rsquo;ve covered the 5 W&rsquo;s (why, what, when, where, who), I&rsquo;ll cover the most important aspect of backups: How to do them. There is an endless list of software that can help with backups. One good rule is you should <em>always</em> use <a href=https://www.fsf.org/about/what-is-free-software>free software</a> for your backups. <em>Never</em> use <a href=https://www.gnu.org/proprietary/>proprietary software</a> for any part of the backup process. There&rsquo;s no reason for it and it will compromise your backup security.</p><h4 id=offsite-backup>Offsite Backup</h4><p>The first part of the backup process is to decide which data you want to store. Then, you should decide how you want to handle the remote backup. If you use a VPS, you control <em>how</em> you access your data, but all other caveats still apply. On a VPS, you can host your own service for the remote backup. As I said, there are a thousand ways to do this depending on your needs. If you like to keep it barebones, you can run a simple ssh server. If you are hosting a backup for more than just yourself, you may want to use an actual backup platform such as Nextcloud. There are several OS&rsquo;s that are built for the express purpose of backups from <a href=https://www.freenas.org/>FreeNAS</a> to <a href=https://www.openmediavault.org/>OpenMediaVault</a>. It doesn&rsquo;t really matter which you choose as long as it&rsquo;s meets your needs and runs free software.</p><h4 id=encryption>Encryption</h4><p>Once you have your offsite service set up, it&rsquo;s time to perform the backup. The first thing you&rsquo;ll want to do before anything else is <strong>encrypt your data</strong>. For most people, you&rsquo;ll want to use <a href=https://www.veracrypt.fr>Veracrypt</a>. It&rsquo;s user friendly and cross-platform. For a guide on how to use Veracrypt, follow the <a href=https://www.veracrypt.fr/en/Beginner%27s%20Tutorial.html>beginner&rsquo;s tutorial</a>. Other encryption programs require using the command-line, decrypting the data to disk before reading it, or only work on GNU/Linux. For those reasons I won&rsquo;t use them in this tutorial. However, if you feel comfortable using LUKS or GPG, go ahead. Just know the trade-offs.</p><p>This next step is optional, but I recommend it. Veracrypt does not perform authenticated encryption. Your data is still encrypted, but it could be maliciously changed by an attacker and Veracrypt won&rsquo;t know about it. The best way to prevent this is with an HMAC. On GNU/Linux, you can do this with a single command as long as you have openssl installed. It doesn&rsquo;t seem as easy to perform on other platforms. For your HMAC password, you can reuse your Veracrypt volume password. Copy the resulting HMAC value, then save it to a text file next to your Veracrypt container file. It should also go into your backups. When you retrieve your backups later, you can perform the HMAC operation on the downloaded container file checking that the result matches the value you saved before. This provides you file integrity. At this point, I recommend deleting unencrypted copies of your data on disk since there&rsquo;s no good reason to have them around.</p><h4 id=finishing-up>Finishing Up</h4><p>Now your data is finally ready to go into storage. Upload the Veracrypt container file along with the HMAC text file to your remote backup system. Then copy your data onto external media such as a USB flash drive, external hard drive, or SD card. This will serve as your offline backup. You can store your third backup on the same computer you use to access and modify the data, or you can choose a different one so it&rsquo;s not taking up space. That&rsquo;s up to you. Just be sure to have at least 3 copies of your data, one of them at a remote location and one of them air-gapped. You could write a script to do the backups and check the HMAC for you.</p><p>Finally, you&rsquo;ll want to decide on your backup schedule. To add to your backup, you can simply mount your Veracrypt container and add more files. If you ever run out of space, you can always create a larger container and transfer all your data there. I hope you found this guide useful. I didn&rsquo;t go into as much detail as I could have about remote backup solutions, but I think I covered what needed to be covered.</p><p>If you&rsquo;ve made it this far, thank you for reading. If you find my ideas valuable, then please consider making a donation. Details are on my <a href=../about#donate>about page</a>.</p></div></article></div><aside class="col-12 col-md-3 float-left sidebar"><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul><li><a href=../>Home</a></li><li><a href=../about/>About</a></li><li><a href=../index.xml>RSS</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>Links</h3><ul><li><a href=../pub_key.asc><span>PGP</span></a></li><li><a href=mailto:nicholasjohnson@posteo.org><span>Email</span></a></li><li><a href=https://git.0gitnick.xyz/0gitnick><span>Code</span></a></li><li><a href=https://metrics.torproject.org/rs.html#details/0B4E3C54AF4566E96666728B8FFD1B6B4CB568DF><span>Tor Relay</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>Tags</h3><div><span><a href=../tags/articles/>articles</a></span>
<span><a href=../tags/atheism/>atheism</a></span>
<span><a href=../tags/books/>books</a></span>
<span><a href=../tags/computing/>computing</a></span>
<span><a href=../tags/documentaries/>documentaries</a></span>
<span><a href=../tags/essays/>essays</a></span>
<span><a href=../tags/fables/>fables</a></span>
<span><a href=../tags/free-software/>free software</a></span>
<span><a href=../tags/info/>info</a></span>
<span><a href=../tags/philosophy/>philosophy</a></span>
<span><a href=../tags/podcasts/>podcasts</a></span>
<span><a href=../tags/privacy/>privacy</a></span>
<span><a href=../tags/siue/>SIUe</a></span>
<span><a href=../tags/society/>society</a></span>
<span><a href=../tags/spirituality/>spirituality</a></span>
<span><a href=../tags/videos/>videos</a></span></div></div></aside></div><div class=btn><div class=btn-menu><label for=toggle><div id=btn-menu><i class="iconfont icon-grid-sharp"></i></div></label></div><a href=#top><div class=btn-scroll-top><i class="iconfont icon-chevron-up-circle-sharp"></i></div></a></div><input type=checkbox id=toggle hidden><aside class=sidebar-mobile><div class=sidebar-wrapper><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul><li><a href=../>Home</a></li><li><a href=../about/>About</a></li><li><a href=../index.xml>RSS</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>Links</h3><ul><li><a href=../pub_key.asc><span>PGP</span></a></li><li><a href=mailto:nicholasjohnson@posteo.org><span>Email</span></a></li><li><a href=https://git.0gitnick.xyz/0gitnick><span>Code</span></a></li><li><a href=https://metrics.torproject.org/rs.html#details/0B4E3C54AF4566E96666728B8FFD1B6B4CB568DF><span>Tor Relay</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>Tags</h3><div><span><a href=../tags/articles/>articles</a></span>
<span><a href=../tags/atheism/>atheism</a></span>
<span><a href=../tags/books/>books</a></span>
<span><a href=../tags/computing/>computing</a></span>
<span><a href=../tags/documentaries/>documentaries</a></span>
<span><a href=../tags/essays/>essays</a></span>
<span><a href=../tags/fables/>fables</a></span>
<span><a href=../tags/free-software/>free software</a></span>
<span><a href=../tags/info/>info</a></span>
<span><a href=../tags/philosophy/>philosophy</a></span>
<span><a href=../tags/podcasts/>podcasts</a></span>
<span><a href=../tags/privacy/>privacy</a></span>
<span><a href=../tags/siue/>SIUe</a></span>
<span><a href=../tags/society/>society</a></span>
<span><a href=../tags/spirituality/>spirituality</a></span>
<span><a href=../tags/videos/>videos</a></span></div></div></div></aside></main><footer><div class="container-lg clearfix"><div class="col-12 footer"><p>Unless otherwise noted, the content of this site is licensed under <a rel=license href=https://creativecommons.org/licenses/by-nd/4.0/>CC BY-ND 4.0</a>.</p><span>&copy; 2019-2021
Nicholas Johnson</span></div></div></footer></body></html>